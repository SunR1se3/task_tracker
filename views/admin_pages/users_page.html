<div class="row">
    <div class="col-sm-auto ms-auto table-user-header-panel">
      <button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#userCreateModal">Добавить юзера</button>
    </div>
</div>
<table class="table table-user" id="tableUser">
  <thead>
  <tr>
    <th scope="col" data-ident="fio">ФИО</th>
    <th scope="col" data-ident="login">Логин</th>
    <th scope="col" data-ident="departments">Отдел</th>
    <th scope="col" data-ident="positions">Должность</th>
    <th scope="col" data-ident="specializations">Специализация</th>
    <th scope="col" data-ident="isActive">Активен</th>
    <th scope="col" data-ident="systemRole">Системная роль</th>
    <th scope="col" data-ident="createdAt">Дата создания</th>
    <th scope="col" data-ident="createdAt">Последняя активность</th>
    <th scope="col" data-ident="actions">Действия</th>
  </tr>
  </thead>
  <tbody>
  {{ range .users }}
    <tr>
      <td>{{ .Lastname }} {{ .Firstname }} {{ .Middlename }}</td>
      <td>{{ .Login }}</td>
      <td>
        {{ range .Departments }}
          {{ .Title }}
        {{ end }}
      </td>
      <td>
        {{ range .Positions }}
          {{ .Title }}
        {{ end }}
      </td>
      <td>
        {{ range .Specializations }}
          {{ .Title }}
        {{ end }}
      </td>
      <td>{{ .IsActive }}</td>
      <td>{{ .SystemRole }}</td>
      <td>{{ .CreatedAt.Format "02.01.2006 15:04:05" }}</td>
      <td>{{ .CreatedAt.Format "02.01.2006 15:04:05" }}</td>
      <td><a href="{{ .Id }}">Редактировать</a> <a href="#">Удалить</a></td>
    </tr>
  {{ end }}
  </tbody>
</table>

<!-- Модальное окно -->
<div class="modal fade bd-example-modal-lg" id="userCreateModal" tabindex="-1" aria-labelledby="userCreateModal" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="userCreateModalLabel">Создание пользователя</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Закрыть"></button>
      </div>
      <div class="modal-body">
        <form class="needs-validation" id="userCreateForm" novalidate>
          <div class="form-group pb-3">
            <div class="row">
              <div class="alert alert-success" id="alertUserAdd" hidden role="alert">
                Пользователь успешно добавлен!
              </div>
              <div class="col-sm">
                <label for="lastname">Фамилия</label>
                <input type="text" class="form-control" id="lastname" name="lastname">
              </div>
              <div class="col-sm">
                <label for="firstname">Имя</label>
                <input type="text" class="form-control" id="firstname" name="firstname">
              </div>
              <div class="col-sm">
                <label for="middlename">Отчество</label>
                <input type="text" class="form-control" id="middlename" name="middlename">
              </div>
            </div>
          </div>
          <div class="form-group pb-3">
            <label for="login">Логин</label>
            <input type="text" class="form-control" id="login" name="login">
          </div>
          <div class="form-group pb-3">
            <label for="departments">Отдел</label>
            <select class="form-select" aria-label="Отдел" id="departments">
              <option selected></option>
              {{ range .departments }}
                <option value="{{ .Id }}">{{ .Title }}</option>
              {{ end }}
            </select>
          </div>
          <div class="form-group pb-3">
            <label for="positions">Должность</label>
            <select class="form-select" aria-label="Отдел" id="positions">
              <option selected></option>
              {{ range .positions }}
                <option value="{{ .Id }}">{{ .Title }}</option>
              {{ end }}
            </select>
          </div>
          <div class="form-group pb-3">
            <label for="specializations">Специализация</label>
            <select class="form-select" aria-label="Отдел" id="specializations">
              <option selected></option>
              {{ range .specializations }}
                <option value="{{ .Id }}">{{ .Title }}</option>
              {{ end }}
            </select>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-light">Отмена</button>
        <button type="button" class="btn btn-outline-success" onclick="createUser();">Добавить</button>
      </div>
    </div>
  </div>
</div>

<script src="../../assets/js/admin/loginGenerator.js"></script>
<script src="../../assets/js/admin/user.js"></script>
<script>generateLogin();</script>